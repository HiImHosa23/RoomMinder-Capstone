"use strict";var express=require("express"),mongoose=require("mongoose"),cors=require("cors"),app=express(),PORT=3001;app.use(cors()),app.use(express.json()),mongoose.connect("mongodb+srv://dev:Nc210960870@cluster0.peco6ve.mongodb.net/roommatesDB",{useNewUrlParser:!0,useUnifiedTopology:!0}).then(function(){return console.log("Connected to MongoDB Atlas!")}).catch(function(e){return console.error("MongoDB connection error:",e)});var roommateSchema=new mongoose.Schema({name:String,likes:[String],dislikes:[String],expectations:String,contact:String,imageURL:String}),Roommate=mongoose.model("Roommate",roommateSchema);app.get("/api/roomates",function(e,o){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Roommate.find());case 3:n=e.sent,o.json(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.status(500).json({message:"There was an error fetching this roommate"});case 10:case"end":return e.stop()}},null,null,[[0,7]])}),app.post("/api/roommates",function(o,n){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Roommate(o.body),e.next=4,regeneratorRuntime.awrap(r.save());case 4:n.status(201).json(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.status(400).json({message:"There was an error saving this roommate"});case 10:case"end":return e.stop()}},null,null,[[0,7]])}),app.listen(PORT,function(){console.log("The server is runnig on localhost:".concat(PORT,"!"))});
//# sourceMappingURL=server.min.js.map
